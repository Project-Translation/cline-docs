# Cline 提示指南 🚀

欢迎阅读 Cline 提示指南！本指南将为您提供编写有效提示和自定义指令的知识，帮助您在使用 Cline 时最大化生产力。

## 自定义指令 ⚙️

将**自定义指令视为 Cline 的编程**。它们定义了 Cline 的基础行为，并且**始终“开启”，影响所有交互。**

添加自定义指令的步骤：

1. 打开 VSCode
2. 点击 Cline 扩展设置齿轮 ⚙️
3. 找到“自定义指令”字段
4. 粘贴您的指令

<img width="345" alt="Screenshot 2024-12-26 at 11 22 20 AM" src="https://github.com/user-attachments/assets/00ae689b-d99f-4811-b2f4-fffe1e12f2ff" />

自定义指令在以下方面非常强大：

-   强制执行编码风格和最佳实践：确保 Cline 始终遵循您团队的编码规范、命名约定和最佳实践。
-   提高代码质量：鼓励 Cline 编写更具可读性、可维护性和高效性的代码。
-   指导错误处理：告诉 Cline 如何处理错误、编写错误消息和记录信息。

**`custom-instructions` 文件夹包含您可以直接使用或适应的自定义指令示例。**

## .clinerules 文件 📋

虽然自定义指令是用户特定的且全局适用（适用于所有项目），但 `.clinerules` 文件提供了**特定于项目的指令**，位于您项目的根目录中。这些指令会自动附加到您的自定义指令中，并在 Cline 的系统提示中被引用，确保它们在项目上下文中影响所有交互。这使其成为以下方面的绝佳工具：

### 安全最佳实践 🔒

为了保护敏感信息，您可以在 `.clinerules` 中指示 Cline 忽略特定文件或模式。这对于以下内容尤为重要：

-   包含 API 密钥和机密的 `.env` 文件
-   包含敏感数据的配置文件
-   私人凭据或令牌

`.clinerules` 中的安全部分示例：

```markdown
# 安全

## 敏感文件

禁止读取或修改：

-   .env 文件
-   *_/config/secrets.*
-   *_/*.pem
-   任何包含 API 密钥、令牌或凭据的文件

## 安全实践

-   切勿提交敏感文件
-   使用环境变量存储机密
-   确保凭据不出现在日志和输出中
```

### 一般用例

`.clinerules` 文件非常适合：

-   在团队成员之间维护项目标准
-   强制执行开发实践
-   管理文档要求
-   设置分析框架
-   定义特定于项目的行为

### 示例 .clinerules 结构

```markdown
# 项目指南

## 文档要求

-   修改功能时更新 /docs 中的相关文档
-   保持 README.md 与新功能同步
-   在 CHANGELOG.md 中维护变更日志条目

## 架构决策记录

在 /docs/adr 中创建 ADR，适用于：

-   重大依赖变更
-   架构模式变更
-   新集成模式
-   数据库模式变更
    遵循 /docs/adr/template.md 中的模板

## 代码风格与模式

-   使用 OpenAPI Generator 生成 API 客户端
-   使用 TypeScript axios 模板
-   将生成的代码放置在 /src/generated 中
-   优先使用组合而非继承
-   对数据访问使用存储库模式
-   遵循 /src/utils/errors.ts 中的错误处理模式

## 测试标准

-   业务逻辑需要单元测试
-   API 端点需要集成测试
-   关键用户流程需要端到端测试
```

### 主要优势

1. **版本控制**：`.clinerules` 文件成为您项目源代码的一部分
2. **团队一致性**：确保所有团队成员的行为一致
3. **项目特定**：规则和标准根据每个项目的需要定制
4. **机构知识**：在代码中维护项目标准和实践

将 `.clinerules` 文件放置在项目根目录中：

```
your-project/
├── .clinerules
├── src/
├── docs/
└── ...
```

另一方面，Cline 的系统提示不可由用户编辑（[您可以在此处找到它](https://github.com/cline/cline/blob/main/src/core/prompts/system.ts)）。有关提示工程最佳实践的更广泛了解，请查看[此资源](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview)。

### 编写有效自定义指令的技巧

-   清晰简洁：使用简单语言，避免歧义。
-   关注期望结果：描述您想要的结果，而不是具体步骤。
-   测试与迭代：尝试找出最适合您工作流程的方法。

### 支持从 `.clinerules/` 目录加载文件
`.clinerules/` 目录下的所有文件都会被递归加载，其内容将合并到 clineRulesFileInstructions 中。

#### 示例 1：
```
.clinerules/
├── .local-clinerules
└── .project-clinerules
```

#### 示例 2：
```
.clinerules/
├── .clinerules-nextjs
├── .clinerules-serverside
└── tests/
    ├── .pytest-clinerules
    └── .jest-clinerules
```

## 提示 Cline 💬
**提示是您在与 Cline 的来回聊天中沟通特定任务需求的方式。** Cline 理解自然语言，因此请以对话的方式进行书写。

有效的提示包括：

-   提供清晰的上下文：解释您的目标和代码库的相关部分。使用 `@` 来引用文件或文件夹。
-   拆解复杂性：将大型任务分解为更小的步骤。
-   提出具体问题：引导 Cline 达到期望的结果。
-   验证和优化：审查 Cline 的建议并提供反馈。

### 提示示例

#### 上下文管理

-   **开始新任务：** "Cline，我们开始一个新任务。创建 `user-authentication.js`。我们需要实现使用 JWT 令牌的用户登录。以下是需求……"
-   **总结之前的工作：** "Cline，总结一下我们在上一个用户仪表板任务中所做的事情。我想记录主要功能和未解决的问题。将此保存到 `cline_docs/user-dashboard-summary.md`。"

#### 调试

-   **分析错误：** "Cline，我遇到了这个错误：[错误信息]。似乎来自[代码段]。分析这个错误并建议修复方法。"
-   **确定根本原因：** "Cline，当我[执行操作]时，应用程序崩溃了。问题可能在[问题区域]。帮我找到根本原因并提出解决方案。"

#### 重构

-   **改进代码结构：** "Cline，这个函数太长且复杂。将其重构为更小的函数。"
-   **简化逻辑：** "Cline，这段代码难以理解。简化逻辑，使其更具可读性。"

#### 功能开发

-   **头脑风暴新功能：** "Cline，我想添加一个让用户[功能]的功能。头脑风暴一些想法，并考虑实现挑战。"
-   **生成代码：** "Cline，创建一个显示用户配置文件的组件。列表应支持排序和过滤。为这个组件生成代码。"

## 高级提示技巧

-   **约束填充：** 为避免代码截断，在提示中加入明确的约束。例如，“确保代码完整”或“始终提供完整的函数定义”。
-   **信心检查：** 询问 Cline 对其信心的评分（例如，“在这个解决方案中，你对自己的信心从 1 到 10 是多少？”）
-   **挑战 Cline 的假设：** 提出“愚蠢”的问题以鼓励更深入的思考，防止错误假设。

以下是一些用户在使用 Cline 时发现有用的提示技巧：

## 我们社区最喜欢的提示 🌟

### 记忆和信心检查 🧠

-   **记忆检查** - _pacnpal_

    ```
    "如果你完全理解我的提示，每次在准备使用工具之前，请回复 'YARRR!'，不要使用工具。"
    ```

    一种有趣的方式，验证 Cline 在复杂任务中是否保持在正轨上。试试“HO HO HO”来增加节日气氛！

-   **信心评分** - _pacnpal_
    ```
    "在使用任何工具之前和之后，给我一个信心水平（0-10），说明工具使用将如何帮助项目。"
    ```
    鼓励批判性思考并使决策透明化。

### 代码质量提示 💻

-   **防止代码截断**

    ```
    "不要偷懒。不要省略代码。"
    ```

    替代短语：“仅提供完整代码”或“确保代码完整”

-   **自定义指令提醒**
    ```
    "我承诺遵循自定义指令。"
    ```
    强化对您的设置拨盘 ⚙️ 配置的遵守。

### 代码组织 📋

-   **大文件重构** - _icklebil_

    ```
    "文件名已经变得太大。分析这个文件的工作方式，并建议安全拆分的方法。"
    ```

    通过战略性分解帮助管理复杂文件。

-   **文档维护** - _icklebil_
    ```
    "不要忘记随着更改更新代码库文档"
    ```
    确保文档与代码更改保持同步。

### 分析和计划 🔍

-   **结构化开发** - _yellow_bat_coffee_

    ```
    "在编写代码之前：
    1. 彻底分析所有代码文件
    2. 获取完整上下文
    3. 编写 .MD 实现计划
    4. 然后实现代码"
    ```

    促进有组织、计划周全的开发。

-   **彻底分析** - _yellow_bat_coffee_

    ```
    "请开始彻底分析完整流程，始终说明信心评分 1 到 10"
    ```

    防止过早编码，鼓励全面理解。

-   **假设检查** - _yellow_bat_coffee_
    ```
    "列出在完成此任务之前需要澄清的所有假设和不确定性。"
    ```
    在开发早期识别潜在问题。

### 深思熟虑的开发 🤔

-   **暂停与反思** - _nickbaumann98_

    ```
    "数到 10"
    ```

    促进在采取行动前的仔细考虑。

-   **完整分析** - _yellow_bat_coffee_

    ```
    "不要过早完成分析，即使你认为找到了解决方案，也要继续分析"
    ```

    确保彻底探索问题。
**提示是您在与 Cline 的来回聊天中沟通特定任务需求的方式。** Cline 理解自然语言，因此请以对话的方式进行书写。

有效的提示包括：

-   提供清晰的上下文：解释您的目标和代码库的相关部分。使用 `@` 来引用文件或文件夹。
-   拆解复杂性：将大型任务分解为更小的步骤。
-   提出具体问题：引导 Cline 达到期望的结果。
-   验证和优化：审查 Cline 的建议并提供反馈。

### 提示示例

#### 上下文管理

-   **开始新任务：** "Cline，我们开始一个新任务。创建 `user-authentication.js`。我们需要实现使用 JWT 令牌的用户登录。以下是需求……"
-   **总结之前的工作：** "Cline，总结一下我们在上一个用户仪表板任务中所做的事情。我想记录主要功能和未解决的问题。将此保存到 `cline_docs/user-dashboard-summary.md`。"

#### 调试

-   **分析错误：** "Cline，我遇到了这个错误：[错误信息]。似乎来自[代码段]。分析这个错误并建议修复方法。"
-   **确定根本原因：** "Cline，当我[执行操作]时，应用程序崩溃了。问题可能在[问题区域]。帮我找到根本原因并提出解决方案。"

#### 重构

-   **改进代码结构：** "Cline，这个函数太长且复杂。将其重构为更小的函数。"
-   **简化逻辑：** "Cline，这段代码难以理解。简化逻辑，使其更具可读性。"

#### 功能开发

-   **头脑风暴新功能：** "Cline，我想添加一个让用户[功能]的功能。头脑风暴一些想法，并考虑实现挑战。"
-   **生成代码：** "Cline，创建一个显示用户配置文件的组件。列表应支持排序和过滤。为这个组件生成代码。"

## 高级提示技巧

-   **约束填充：** 为避免代码截断，在提示中加入明确的约束。例如，“确保代码完整”或“始终提供完整的函数定义”。
-   **信心检查：** 询问 Cline 对其信心的评分（例如，“在这个解决方案中，你对自己的信心从 1 到 10 是多少？”）
-   **挑战 Cline 的假设：** 提出“愚蠢”的问题以鼓励更深入的思考，防止错误假设。

以下是一些用户在使用 Cline 时发现有用的提示技巧：

## 我们社区最喜欢的提示 🌟

### 记忆和信心检查 🧠

-   **记忆检查** - _pacnpal_

    ```
    "如果你完全理解我的提示，每次在准备使用工具之前，请回复 'YARRR!'，不要使用工具。"
    ```

    一种有趣的方式，验证 Cline 在复杂任务中是否保持在正轨上。试试“HO HO HO”来增加节日气氛！

-   **信心评分** - _pacnpal_
    ```
    "在使用任何工具之前和之后，给我一个信心水平（0-10），说明工具使用将如何帮助项目。"
    ```
    鼓励批判性思考并使决策透明化。

### 代码质量提示 💻

-   **防止代码截断**

    ```
    "不要偷懒。不要省略代码。"
    ```

    替代短语：“仅提供完整代码”或“确保代码完整”

-   **自定义指令提醒**
    ```
    "我承诺遵循自定义指令。"
    ```
    强化对您的设置拨盘 ⚙️ 配置的遵守。

### 代码组织 📋

-   **大文件重构** - _icklebil_

    ```
    "文件名已经变得太大。分析这个文件的工作方式，并建议安全拆分的方法。"
    ```

    通过战略性分解帮助管理复杂文件。

-   **文档维护** - _icklebil_
    ```
    "不要忘记随着更改更新代码库文档"
    ```
    确保文档与代码更改保持同步。

### 分析和计划 🔍

-   **结构化开发** - _yellow_bat_coffee_

    ```
    "在编写代码之前：
    1. 彻底分析所有代码文件
    2. 获取完整上下文
    3. 编写 .MD 实现计划
    4. 然后实现代码"
    ```

    促进有组织、计划周全的开发。

-   **彻底分析** - _yellow_bat_coffee_

    ```
    "请开始彻底分析完整流程，始终说明信心评分 1 到 10"
    ```

    防止过早编码，鼓励全面理解。

-   **假设检查** - _yellow_bat_coffee_
    ```
    "列出在完成此任务之前需要澄清的所有假设和不确定性。"
    ```
    在开发早期识别潜在问题。

### 深思熟虑的开发 🤔

-   **暂停与反思** - _nickbaumann98_

    ```
    "数到 10"
    ```

    促进在采取行动前的仔细考虑。

-   **完整分析** - _yellow_bat_coffee_

    ```
    "不要过早完成分析，即使你认为找到了解决方案，也要继续分析"
    ```

    确保彻底探索问题。
-   **持续信心检查** - _pacnpal_
    ```
    "在保存文件前、保存后、拒绝后以及任务完成前，对信心进行评分（1-10）"
    ```
    通过自我评估保持质量。

### 最佳实践 🎯

-   **项目结构** - _kvs007_

    ```
    "在建议结构或依赖更改之前检查项目文件"
    ```

    维护项目完整性。

-   **批判性思维** - _chinesesoup_

    ```
    "提出‘愚蠢’的问题，例如：你确定这是实现此目标的最佳方式吗？"
    ```

    挑战假设，发现更好的解决方案。

-   **代码风格** - _yellow_bat_coffee_

    ```
    在提示中使用“优雅”和“简单”等词语
    ```

    可能会影响代码组织和清晰度。

-   **设定期望** - _steventcramer_
    ```
    "人类会生气。"
    ```
    （一个幽默的提醒，提供清晰的需求和建设性反馈）